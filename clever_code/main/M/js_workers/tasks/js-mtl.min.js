(function(window){var self=this;function loadDynamicallyContent_I_1L(itemPath,callback){if(typeof(Storage)!=="undefined"){var xhr=createXmlHttpRequest_I_2L("",callback,!1);xhr.open("GET",itemPath,!0);xhr.send(null)}
function createXmlHttpRequest_I_2L(itemNameForLaterAccess,callback,doCache){var xhr=new XMLHttpRequest();xhr.itemNameForLaterAccess=itemNameForLaterAccess;xhr.onreadystatechange=function(){try{if(this.status==200&&this.readyState==4){if(doCache){sessionStorage.setItem(this.itemNameForLaterAccess,this.responseText);callback()}else{callback(this.responseText)}}}catch(error){}};return xhr}}
function processNewsFromFlatFile_I_1L(storageData,parentContainerCssClass,mainContainerCssClass,creationDateCssClassName,contentCssClassName,customMarkupAPI){var upToDateNewsArray=extractOnlyUpToDateNews_I_2L(storageData);loadUpToDateNewsIntoDOM_I_2L(upToDateNewsArray);function extractOnlyUpToDateNews_I_2L(rawData){var upToDateNewsArray=[];var emptyString="";var dataObjectArray=rawData.split("},");var dataObjectArrayLength=dataObjectArray.length;for(var i=0;i<dataObjectArrayLength;i++){var dataEntryArray=dataObjectArray[i].replace("{",emptyString).replace("}",emptyString).split("\n");dataEntryArray=removeEmptyArrayItems_I_3L(dataEntryArray);var dataEntryArrayLength=dataEntryArray.length;if(dataEntryArrayLength){var dateAndDays=dataEntryArray[0].split(';');var givenDate=dateAndDays[0].trim();var howLong=dateAndDays[1].trim();var result=isDateWithinRange_I_1L(givenDate,howLong);if(result.valid){dataEntryArray[0]=givenDate+" ; "+result.getDescr();upToDateNewsArray.unshift(dataEntryArray)}}}
return upToDateNewsArray;function removeEmptyArrayItems_I_3L(inputArray){var outputArray=[];var outputArrayIndex=-1;for(var indexStart=0;indexStart<inputArray.length;indexStart++){if(validateAgainstNonPrintableChars_I_4L(inputArray[indexStart])){outputArray.push(null);outputArrayIndex+=1;outputArray[outputArrayIndex]=inputArray[indexStart]}}
return outputArray;function validateAgainstNonPrintableChars_I_4L(inputString){if(inputString.length==0)
return!1;if(inputString.length==1&&(inputString.charCodeAt(0)==13||inputString.charCodeAt(0)==10))
return!1;return!0}}}
function loadUpToDateNewsIntoDOM_I_2L(onlyUpToDateNewsArray){var newsMainDiv;var newsContentDiv;var newsContent_innerHTML;if(onlyUpToDateNewsArray.length===0){newsMainDiv=$("<div id=\""+mainContainerCssClass+"_"+i+"\" class=\""+mainContainerCssClass+"\" />");newsContentDiv=$("<div id=\""+contentCssClassName+"_"+i+"\" class=\""+contentCssClassName+"\" />");newsContent_innerHTML=["No news today !"];$(newsContentDiv).prop("innerHTML",newsContent_innerHTML.join(""));$(newsMainDiv).append(newsContentDiv);$(parentContainerCssClass).append(newsMainDiv);return}
for(var i=onlyUpToDateNewsArray.length-1;i>=0;i--){newsMainDiv=$("<div id=\""+mainContainerCssClass+"_"+i+"\" class=\""+mainContainerCssClass+"\" />");var newsCreationDateDiv=$("<div id=\""+creationDateCssClassName+"_"+i+"\" class=\""+creationDateCssClassName+"\" />");newsContentDiv=$("<div id=\""+contentCssClassName+"_"+i+"\" class=\""+contentCssClassName+"\" />");newsContent_innerHTML=[];var currentNews=onlyUpToDateNewsArray[i];var numberOfLinesInCurrentNews=currentNews.length;var contentLineDiv;for(var j=0;j<numberOfLinesInCurrentNews;j++){if(j==0){contentLineDiv=customMarkupAPI.GET_MARKUP_API.Converter.CustomMarkup.convertToHTML(currentNews[j]);$(newsCreationDateDiv).prop("innerHTML",contentLineDiv)}
else{contentLineDiv=customMarkupAPI.GET_MARKUP_API.Converter.CustomMarkup.convertToHTML(currentNews[j]);newsContent_innerHTML.push(contentLineDiv)}}
$(newsContentDiv).prop("innerHTML",newsContent_innerHTML.join(""));$(newsMainDiv).append(newsCreationDateDiv);$(newsMainDiv).append(newsContentDiv);$(parentContainerCssClass).append(newsMainDiv)}}}
function processNewsFromDatabase_I_1L(storageData,parentContainerCssClass,contentCssClassName,creationDateCssClassName,customMarkupAPI){}
function processNewsFromService_I_1L(storageData,parentContainerCssClass,contentCssClassName,creationDateCssClassName,customMarkupAPI){}
function isDateWithinRange_I_1L(givenDate,numberOfDays){var result={valid:!1,numberofDaysLeft:0,message:"",getDescr:function(){if(this.numberofDaysLeft>1)
this.message="[single-line-2: "+this.numberofDaysLeft+";]"+" days left";else this.message="[single-line-2: "+this.numberofDaysLeft+";]"+" day left";return this.message}};givenDate=givenDate.replace("\r","");givenDate=givenDate.replace("\n","");numberOfDays=parseInt(numberOfDays);numberOfDays--;givenDate=new Date(givenDate);givenDate.setHours(0,0,0,0);var currentDate=new Date();currentDate.setHours(0,0,0,0);if(givenDate>currentDate){result.valid=!1;return result}
var timeDiff=Math.abs(currentDate-givenDate);if(!timeDiff){result.valid=!0;result.numberofDaysLeft=(numberOfDays+1);return result}
if(givenDate<currentDate){var daysDiff=Math.ceil(timeDiff/(1000*60*60*24));if(daysDiff<=numberOfDays){result.valid=!0;result.numberofDaysLeft=((numberOfDays+1)-daysDiff)}
return result}
return result}
self.loadDynamicallyContent=function(itemPath,callback){return loadDynamicallyContent_I_1L(itemPath,callback)};self.processNewsFromFlatFile=function(storageData,parentContainerCssClass,mainContainerCssClass,creationDateCssClassName,contentCssClassName,customMarkupAPI){return processNewsFromFlatFile_I_1L(storageData,parentContainerCssClass,mainContainerCssClass,creationDateCssClassName,contentCssClassName,customMarkupAPI)};self.processNewsFromDatabase=function(storageData,parentContainerCssClass,mainContainerCssClass,creationDateCssClassName,contentCssClassName,customMarkupAPI){return processNewsFromDatabase_I_1L(storageData,parentContainerCssClass,mainContainerCssClass,creationDateCssClassName,contentCssClassName,customMarkupAPI)};self.processNewsFromService=function(storageData,parentContainerCssClass,mainContainerCssClass,creationDateCssClassName,contentCssClassName,customMarkupAPI){return processNewsFromService_I_1L(storageData,parentContainerCssClass,mainContainerCssClass,creationDateCssClassName,contentCssClassName,customMarkupAPI)};self.isDateWithinRange=function(givenDate,numberOfDaysBehind,numberOfDaysAhead){return isDateWithinRange_I_1L(givenDate,numberOfDaysBehind,numberOfDaysAhead)};window.jsUtilities=window.jsUtilities||self})(window)