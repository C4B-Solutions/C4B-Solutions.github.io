!function(r){function a(a){r.open(a,"_blank")}var e={ResourceType:{URL:"url",CLIP:"clip",DOC:"doc",PDF:"pdf",IMAGE:"image",ENTER:"enter",IMAGE_URL:"image-url",IMAGE_IMAGE:"image-image",SINGLE_LINE:"single-line",MULTI_LINE:"multi-line",SPACE:"space",ZIP:"zip"},Transformation:{urlTransformations:{next_id:0,getNextId:function(){return this.next_id++},resourceType:"",url_value_array:[],url_display_text_array:[],url_regex:/\[url:.+?\]/g,url_css_attributes:["class","blogUrl"],url_onclick_method:null,url_store_onclick_method:function(r){this.url_onclick_method=r},url_invoke_onclick_method:function(r){this.url_onclick_method(this.url_value_array[r])}},clipTransformations:{next_id:0,getNextId:function(){return this.next_id++},resourceType:"",clip_value_array:[],clip_display_text_array:[],clip_regex:/\[clip:.+?\]/g,clip_css_attributes:["class","blogClip"],clip_onclick_method:null,clip_store_onclick_method:function(r){this.clip_onclick_method=r},clip_invoke_onclick_method:function(r){this.clip_onclick_method(this.clip_value_array[r])}},docTransformations:{next_id:0,getNextId:function(){return this.next_id++},resourceType:"",doc_value_array:[],doc_display_text_array:[],doc_regex:/\[doc:.+?\]/g,doc_css_attributes:["class","blogDoc"],doc_onclick_method:null,doc_store_onclick_method:function(r){this.doc_onclick_method=r},doc_invoke_onclick_method:function(r){this.doc_onclick_method(this.doc_value_array[r])}},pdfTransformations:{next_id:0,getNextId:function(){return this.next_id++},resourceType:"",pdf_value_array:[],pdf_display_text_array:[],pdf_regex:/\[pdf:.+?\]/g,pdf_css_attributes:["class","blogPdf"],pdf_onclick_method:null,pdf_store_onclick_method:function(r){this.pdf_onclick_method=r},pdf_invoke_onclick_method:function(r){this.pdf_onclick_method(this.pdf_value_array[r])}},imageTransformations:{next_id:0,getNextId:function(){return this.next_id++},resourceType:"",image_value_array:[],image_display_text_array:[],image_regex:/\[image:.+?\]/g,image_css_attributes:["class","blogImage"],image_onclick_method:null,image_store_onclick_method:function(r){this.image_onclick_method=r},image_invoke_onclick_method:function(r){this.image_onclick_method(this.image_value_array[r])}},enterTransformations:{resourceType:"",enter_regex:/\[enter:.+?\]/g,enter_css_attributes:[]},imageUrlTransformations:{next_id:0,getNextId:function(){return this.next_id++},resourceType:"",imageUrl_value_array:[],imageUrl_display_text_array:[],imageUrl_regex:/\[image-url:.+?\]/g,imageUrl_css_attributes:["class","blogImageUrl"],imageUrl_onclick_method:null,imageUrl_store_onclick_method:function(r){this.imageUrl_onclick_method=r},imageUrl_invoke_onclick_method:function(r){this.imageUrl_onclick_method(this.imageUrl_value_array[r])}},imageImageTransformations:{resourceType:"",imageImage_regex:/\[image-image:.+?\]/g,imageImage_css_attributes:["class","blogImageImage"]},singleLineTransformations:{resourceType:"",singleLine_regex:/\[single-line:.+?\]/g,singleLine_css_attributes:["class","blogSingleLine"]},multiLineTransformations:{resourceType:"",multiLine_regex:/\[multi-line:.+?\]/g,multiLine_css_attributes:["class","blogMultiLine"]},spaceTransformations:{resourceType:"",space_regex:/\[space:.+?\]/g,space_css_attributes:[]},zipTransformations:{next_id:0,getNextId:function(){return this.next_id++},resourceType:"",zip_value_array:[],zip_display_text_array:[],zip_regex:/\[zip:.+?\]/g,zip_css_attributes:["class","blogZip"],zip_onclick_method:null,zip_store_onclick_method:function(r){this.zip_onclick_method=r},zip_invoke_onclick_method:function(r){this.zip_onclick_method(this.zip_value_array[r])}},validate:function(){if(!0!==(this.urlTransformations.url_css_attributes.length%2==0&&this.clipTransformations.clip_css_attributes.length%2==0&&this.docTransformations.doc_css_attributes.length%2==0&&this.pdfTransformations.pdf_css_attributes.length%2==0&&this.imageTransformations.image_css_attributes.length%2==0&&this.enterTransformations.enter_css_attributes.length%2==0&&this.imageUrlTransformations.imageUrl_css_attributes.length%2==0&&this.imageImageTransformations.imageImage_css_attributes.length%2==0&&this.singleLineTransformations.singleLine_css_attributes.length%2==0&&this.multiLineTransformations.multiLine_css_attributes.length%2==0&&this.spaceTransformations.space_css_attributes.length%2==0&&this.zipTransformations.zip_css_attributes.length%2==0))throw Error("Transformation Object did not pass the validation! Each transformation CSS attribute has to have a value!")}},ActionHandler:{URL:{handleUrl:function(r){return a(r)}},CLIP:{handleClip:function(r){return a(r)}},DOC:{handleDoc:function(r){return a(r)}},PDF:{handlePdf:function(r){return a(r)}},IMAGE:{handleImage:function(r){return a(r)}},ZIP:{handleZip:function(r){return a(r)}}},Converter:{CustomMarkup:{convertToHTML:function(r){return function(r){function a(r){var a=r.substring(r.indexOf(": ")+1,r.indexOf("]"));return a=a.split(";"),{value:a[0].trim(),displayText:a[1].trim()}}function o(r,a,o,n,i,t,s){if(r===e.ResourceType.URL||r===e.ResourceType.CLIP||r===e.ResourceType.DOC||r===e.ResourceType.PDF||r===e.ResourceType.IMAGE||r===e.ResourceType.ZIP){var m,l,_="<a ";for(m=0;m<s.length;m+=2)_+=s[m]+'="'+s[m+1]+'" ';_+='onclick="'+i+"("+n+')"',_+=">",_+=t,_+="</a>",a=a.replace(o,_)}else if(r===e.ResourceType.ENTER){var c="<br ";for(m=0;m<s.length;m+=2)c+=s[m]+'="'+s[m+1]+'" ';c+=" />",a=a.replace(o,c)}else if(r===e.ResourceType.IMAGE_URL){for(_="<a ",m=0;m<s.length;m+=2)_+=s[m]+'="'+s[m+1]+'" ';_+='onclick="'+i+"("+n+')"',_+=">",_+='<img src="'+t+'"></img>',_+="</a>",a=a.replace(o,_)}else if(r===e.ResourceType.IMAGE_IMAGE){for(l="<div ",m=0;m<s.length;m+=2)l+=s[m]+'="'+s[m+1]+'" ';l+=">",l+='<img src="'+t+'"></img>',l+="</div>",a=a.replace(o,l)}else if(r===e.ResourceType.SINGLE_LINE){var f="<span ";for(m=0;m<s.length;m+=2)f+=s[m]+'="'+s[m+1]+'" ';f+=">",f+=t,f+="</span>",a=a.replace(o,f)}else if(r===e.ResourceType.MULTI_LINE){for(l="<div ",m=0;m<s.length;m+=2)l+=s[m]+'="'+s[m+1]+'" ';l+=">",l+=t,l+="</div>",a=a.replace(o,l)}else{if(r!==e.ResourceType.SPACE)throw Error("Unsupported type of resource: ["+r+"] !");var u="";for(m=0;m<parseInt(t);m+=1)u+="&nbsp;";a=a.replace(o,u)}return a}var n,i,t,s=r.match(e.Transformation.urlTransformations.url_regex);if(null!==s)for(n=0;n<s.length;n++){t=a(i=s[n]),e.Transformation.urlTransformations.resourceType=e.ResourceType.URL,e.Transformation.urlTransformations.url_value_array.push(t.value),e.Transformation.urlTransformations.url_display_text_array.push(t.displayText),e.Transformation.urlTransformations.url_store_onclick_method(e.ActionHandler.URL.handleUrl);var m=e.Transformation.urlTransformations.getNextId();r=o(e.Transformation.urlTransformations.resourceType,r,i,m,"customMarkupAPI.GET_MARKUP_API.Transformation.urlTransformations.url_invoke_onclick_method",e.Transformation.urlTransformations.url_display_text_array[m],e.Transformation.urlTransformations.url_css_attributes)}var l=r.match(e.Transformation.clipTransformations.clip_regex);if(null!==l)for(n=0;n<l.length;n++){t=a(i=l[n]),e.Transformation.clipTransformations.resourceType=e.ResourceType.CLIP,e.Transformation.clipTransformations.clip_value_array.push(t.value),e.Transformation.clipTransformations.clip_display_text_array.push(t.displayText),e.Transformation.clipTransformations.clip_store_onclick_method(e.ActionHandler.CLIP.handleClip);var _=e.Transformation.clipTransformations.getNextId();r=o(e.Transformation.clipTransformations.resourceType,r,i,_,"customMarkupAPI.GET_MARKUP_API.Transformation.clipTransformations.clip_invoke_onclick_method",e.Transformation.clipTransformations.clip_display_text_array[_],e.Transformation.clipTransformations.clip_css_attributes)}var c=r.match(e.Transformation.docTransformations.doc_regex);if(null!==c)for(n=0;n<c.length;n++){t=a(i=c[n]),e.Transformation.docTransformations.resourceType=e.ResourceType.DOC,e.Transformation.docTransformations.doc_value_array.push(t.value),e.Transformation.docTransformations.doc_display_text_array.push(t.displayText),e.Transformation.docTransformations.doc_store_onclick_method(e.ActionHandler.DOC.handleDoc);var f=e.Transformation.docTransformations.getNextId();r=o(e.Transformation.docTransformations.resourceType,r,i,f,"customMarkupAPI.GET_MARKUP_API.Transformation.docTransformations.doc_invoke_onclick_method",e.Transformation.docTransformations.doc_display_text_array[f],e.Transformation.docTransformations.doc_css_attributes)}var u=r.match(e.Transformation.pdfTransformations.pdf_regex);if(null!==u)for(n=0;n<u.length;n++){t=a(i=u[n]),e.Transformation.pdfTransformations.resourceType=e.ResourceType.PDF,e.Transformation.pdfTransformations.pdf_value_array.push(t.value),e.Transformation.pdfTransformations.pdf_display_text_array.push(t.displayText),e.Transformation.pdfTransformations.pdf_store_onclick_method(e.ActionHandler.PDF.handlePdf);var T=e.Transformation.pdfTransformations.getNextId();r=o(e.Transformation.pdfTransformations.resourceType,r,i,T,"customMarkupAPI.GET_MARKUP_API.Transformation.pdfTransformations.pdf_invoke_onclick_method",e.Transformation.pdfTransformations.pdf_display_text_array[T],e.Transformation.pdfTransformations.pdf_css_attributes)}var p=r.match(e.Transformation.imageTransformations.image_regex);if(null!==p)for(n=0;n<p.length;n++){t=a(i=p[n]),e.Transformation.imageTransformations.resourceType=e.ResourceType.IMAGE,e.Transformation.imageTransformations.image_value_array.push(t.value),e.Transformation.imageTransformations.image_display_text_array.push(t.displayText),e.Transformation.imageTransformations.image_store_onclick_method(e.ActionHandler.IMAGE.handleImage);var d=e.Transformation.imageTransformations.getNextId();r=o(e.Transformation.imageTransformations.resourceType,r,i,d,"customMarkupAPI.GET_MARKUP_API.Transformation.imageTransformations.image_invoke_onclick_method",e.Transformation.imageTransformations.image_display_text_array[d],e.Transformation.imageTransformations.image_css_attributes)}var g=r.match(e.Transformation.enterTransformations.enter_regex);if(null!==g)for(n=0;n<g.length;n++)i=g[n],e.Transformation.enterTransformations.resourceType=e.ResourceType.ENTER,r=o(e.Transformation.enterTransformations.resourceType,r,i,-1,null,null,e.Transformation.enterTransformations.enter_css_attributes);var h=r.match(e.Transformation.imageUrlTransformations.imageUrl_regex);if(null!==h)for(n=0;n<h.length;n++){t=a(i=h[n]),e.Transformation.imageUrlTransformations.resourceType=e.ResourceType.IMAGE_URL,e.Transformation.imageUrlTransformations.imageUrl_value_array.push(t.value),e.Transformation.imageUrlTransformations.imageUrl_display_text_array.push(t.displayText),e.Transformation.imageUrlTransformations.imageUrl_store_onclick_method(e.ActionHandler.URL.handleUrl);var y=e.Transformation.imageUrlTransformations.getNextId();r=o(e.Transformation.imageUrlTransformations.resourceType,r,i,y,"customMarkupAPI.GET_MARKUP_API.Transformation.imageUrlTransformations.imageUrl_invoke_onclick_method",e.Transformation.imageUrlTransformations.imageUrl_display_text_array[y],e.Transformation.imageUrlTransformations.imageUrl_css_attributes)}var I=r.match(e.Transformation.imageImageTransformations.imageImage_regex);if(null!==I)for(n=0;n<I.length;n++)t=a(i=I[n]),e.Transformation.imageImageTransformations.resourceType=e.ResourceType.IMAGE_IMAGE,r=o(e.Transformation.imageImageTransformations.resourceType,r,i,-1,null,t.value,e.Transformation.imageImageTransformations.imageImage_css_attributes);var x=r.match(e.Transformation.singleLineTransformations.singleLine_regex);if(null!==x)for(n=0;n<x.length;n++)t=a(i=x[n]),e.Transformation.singleLineTransformations.resourceType=e.ResourceType.SINGLE_LINE,r=o(e.Transformation.singleLineTransformations.resourceType,r,i,-1,null,t.value,e.Transformation.singleLineTransformations.singleLine_css_attributes);var v=r.match(e.Transformation.multiLineTransformations.multiLine_regex);if(null!==v)for(n=0;n<v.length;n++)t=a(i=v[n]),e.Transformation.multiLineTransformations.resourceType=e.ResourceType.MULTI_LINE,r=o(e.Transformation.multiLineTransformations.resourceType,r,i,-1,null,t.value,e.Transformation.multiLineTransformations.multiLine_css_attributes);var k=r.match(e.Transformation.spaceTransformations.space_regex);if(null!==k)for(n=0;n<k.length;n++)t=a(i=k[n]),e.Transformation.spaceTransformations.resourceType=e.ResourceType.SPACE,r=o(e.Transformation.spaceTransformations.resourceType,r,i,-1,null,t.value,e.Transformation.spaceTransformations.space_css_attributes);var U=r.match(e.Transformation.zipTransformations.zip_regex);if(null!==U)for(n=0;n<U.length;n++){t=a(i=U[n]),e.Transformation.zipTransformations.resourceType=e.ResourceType.ZIP,e.Transformation.zipTransformations.zip_value_array.push(t.value),e.Transformation.zipTransformations.zip_display_text_array.push(t.displayText),e.Transformation.zipTransformations.zip_store_onclick_method(e.ActionHandler.ZIP.handleZip);var b=e.Transformation.zipTransformations.getNextId();r=o(e.Transformation.zipTransformations.resourceType,r,i,b,"customMarkupAPI.GET_MARKUP_API.Transformation.zipTransformations.zip_invoke_onclick_method",e.Transformation.zipTransformations.zip_display_text_array[b],e.Transformation.zipTransformations.zip_css_attributes)}return r}(r)}}}};this.GET_MARKUP_API=e,r.customMarkupAPI=r.customMarkupAPI||this}(window);