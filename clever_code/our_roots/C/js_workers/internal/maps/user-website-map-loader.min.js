!function(e){var a={Variables:{__init__:function(){this.moduleBaseDir=r.Variables.map_ModuleBaseDir,this.google_Map_data=r.Variables.map_data,this.mapContainerClassName=r.Variables.map_container_className,this.apply_Map_Content_Defaults=r.Variables.map_content_updater_callback},moduleBaseDir:null,google_Map_data:null,mapContainerClassName:"",apply_Map_Content_Defaults:null},Functions:{load_GoogleMap_Map:function(){return r.Variables.activeProviders[googleMapsMapDriver.getProviderName()]=googleMapsMapDriver,a.Variables.__init__(),googleMapsMapDriver.__init__(a.Variables.moduleBaseDir,a.Variables.google_Map_data,a.Variables.mapContainerClassName),void googleMapsMapDriver.loadMapCriticalData(function(){googleMapsMapDriver.geocodeAddress(function(){var e=a.Variables.apply_Map_Content_Defaults.bind(null,!1);googleMapsMapDriver.initMap(e)})})}}},t={Variables:{__init__:function(){this.moduleBaseDir=r.Variables.map_ModuleBaseDir,this.google_Map_data=r.Variables.map_data,this.mapContainerClassName=r.Variables.map_container_className,this.apply_Map_Content_Defaults=r.Variables.map_content_updater_callback},moduleBaseDir:null,google_Map_data:null,mapContainerClassName:"",apply_Map_Content_Defaults:null,resilient_attempt_time_interval:10},Functions:{load_Leaflet_Map:function(){return r.Variables.activeProviders[leafletMapDriver.getProviderName()]=leafletMapDriver,t.Variables.__init__(),leafletMapDriver.__init__(t.Variables.moduleBaseDir,t.Variables.google_Map_data,t.Variables.mapContainerClassName),void leafletMapDriver.loadMapCriticalData(function(){leafletMapDriver.geocodeAddress(function(){var e=t.Variables.apply_Map_Content_Defaults.bind(null,!1);leafletMapDriver.initMap(e)})})}}},n={MANAGER:{initEvents:{onUserWebsiteMapLoaderConfigLoaded:{eventName:"UserWebsiteMapLoaderConfigLoaded",eventListener:function(e){return function(e){var a=e.detail;r.Functions.processUserWebsiteMapLoaderConfig(a)}(e)}}}},GOOGLE_MAPS:{statelessEvents:{onProviderDepsReady:{eventName:"GoogleMapsProviderDepsReady"}},statefullEvents:{onJSLoaded:{eventName:"GoogleMapsJS",eventListener:function(e){return function(e,a){e.hasCompleted=!0,n.GOOGLE_MAPS.statefullEvents.onCSSLoaded.hasCompleted&&ebdoAPI.dispatchEvent(n.GOOGLE_MAPS.statelessEvents.onProviderDepsReady.eventName,a.detail)}(n.GOOGLE_MAPS.statefullEvents.onJSLoaded,e)},hasCompleted:!1},onCSSLoaded:{eventName:"GoogleMapsCSS",eventListener:function(e){return function(e,a){e.hasCompleted=!0,n.GOOGLE_MAPS.statefullEvents.onJSLoaded.hasCompleted&&ebdoAPI.dispatchEvent(n.GOOGLE_MAPS.statelessEvents.onProviderDepsReady.eventName,a.detail)}(n.GOOGLE_MAPS.statefullEvents.onCSSLoaded,e)},hasCompleted:!1}},providerReadyEvents:{onProviderDepsReady:{eventName:"GoogleMapsProviderDepsReady",eventListener:function(e){return function(e){ral.GET_RAL_OBJECT.Loader.loadAsync([e.detail],"js",a.Functions.load_GoogleMap_Map)}(e)}}}},LEAFLET:{statelessEvents:{onProviderDepsReady:{eventName:"LeafletProviderDepsReady"}},statefullEvents:{onJSLoaded:{eventName:"LeafletJS",eventListener:function(e){return function(e,a){e.hasCompleted=!0,n.LEAFLET.statefullEvents.onCSSLoaded.hasCompleted&&ebdoAPI.dispatchEvent(n.LEAFLET.statelessEvents.onProviderDepsReady.eventName,a.detail)}(n.LEAFLET.statefullEvents.onJSLoaded,e)},hasCompleted:!1},onCSSLoaded:{eventName:"LeafletCSS",eventListener:function(e){return function(e,a){e.hasCompleted=!0,n.LEAFLET.statefullEvents.onJSLoaded.hasCompleted&&ebdoAPI.dispatchEvent(n.LEAFLET.statelessEvents.onProviderDepsReady.eventName,a.detail)}(n.LEAFLET.statefullEvents.onCSSLoaded,e)},hasCompleted:!1}},providerReadyEvents:{onProviderDepsReady:{eventName:"LeafletProviderDepsReady",eventListener:function(e){return function(e){ral.GET_RAL_OBJECT.Loader.loadAsync([e.detail],"js",t.Functions.load_Leaflet_Map)}(e)}}}}},r={__init__:function(a,t,s,i,o){if(!e.ral)throw Error("Resilent Async Load library is required, but was found to be missing !");this.Variables.server_Root_Directory=a,this.Variables.map_ModuleBaseDir=t,this.Variables.map_data=s,this.Variables.map_container_className=i,this.Variables.map_content_updater_callback=o,r.Functions.loadFlatFileAsync(r.Constants.userWebsiteMapConfigPath,function(e){var a=JSON.parse(e);a.maps_deps.forEach(function(e,t,n){e=a.rootPath+e.trim().replace("\r\n",""),n[t]=e}),ral.GET_RAL_OBJECT.Loader.loadAsync(a.maps_deps,"js",function(){ebdoAPI.bindListenersWithEvents([n.MANAGER.initEvents,n.GOOGLE_MAPS.statefullEvents,n.GOOGLE_MAPS.providerReadyEvents,n.LEAFLET.statefullEvents,n.LEAFLET.providerReadyEvents]),ebdoAPI.dispatchEvent(n.MANAGER.initEvents.onUserWebsiteMapLoaderConfigLoaded.eventName,a)})})},Constants:{userWebsiteMapConfigPath:"/clever_code/our_roots/C/js_workers/internal/maps/.conf/user-website-map-loader.txt"},Variables:{server_Root_Directory:"",map_ModuleBaseDir:null,map_data:null,map_container_className:"",map_content_updater_callback:null,core_lib_type_js:"js",core_lib_type_css:"css",core_lib_separator:",",isJSONFormat:!0,resilientAttemptTimeInterval:10,activeProviders:{}},Functions:{loadFlatFileAsync:function(e,a){function t(e,a){var n=function(){var n=new XMLHttpRequest;return n.callback=a,n.onreadystatechange=function(){try{4==this.readyState&&200==this.status&&this.callback(this.responseText)}catch(a){setTimeout(function(){t(e,n.callback)},r.Variables.resilientAttemptTimeInterval)}},n}();n.open("GET",e,!0),n.send(null)}return t(e,a)},processUserWebsiteMapLoaderConfig:function(a){return function(a){var n=a.rootPath,s=a.providers;for(var i in s)!function(a,n){function s(e,a){function t(e,a,t){function n(e){return e.trim().replace("\r\n","")}this.isInternal?e=this.absolutePath+n(e):this.isExternal&&(e=n(e)),t[a]=e}var n,r,s,i=[];return"DESC"===e.processOrder.toUpperCase()?(e.external&&(n={isInternal:!1,isExternal:!0,absolutePath:null},(s=e.external.slice()).forEach(t,n),i.push.apply(i,s)),e.internal&&(n={isInternal:!0,isExternal:!1,absolutePath:a},(r=e.internal.slice()).forEach(t,n),i.push.apply(i,r))):(e.internal&&(n={isInternal:!0,isExternal:!1,absolutePath:a},(r=e.internal.slice()).forEach(t,n),i.push.apply(i,r)),e.external&&(n={isInternal:!1,isExternal:!0,absolutePath:null},(s=e.external.slice()).forEach(t,n),i.push.apply(i,s))),i}function i(a,n,r,s,i,o){var l=function(e,a){ebdoAPI.dispatchEvent(e,a)}.bind(null,i,o);if(a.length&&function(e){return"true"===e||"1"===e}(r.bundleThem)){var d=function(e,a,t,n,r){raboAPI.Factory.BundlerObject.createNew(e,a,t,function(e){e()}.bind(null,n),r).Functions.loadResources()}.bind(null,a,n,t.Variables.resilient_attempt_time_interval,l,null);e.raboAPI?d():ral.GET_RAL_OBJECT.Loader.loadAsync([r.dependencyBundlerLibrary],n,d)}else a.length?(ral.GET_RAL_OBJECT.Loader.loadAsync(a,n,l),s||l()):l()}if(a.isRequired){var o=n+a.relativePath+a.providerLibrary,l=a.dependencies;if(l.areRequired){var d=n+a.relativePath+l.relativePath,p={key:"dependencyBundlerLibrary",value:d+l.dependencyBundlerLibrary};!function(e,a){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<a.length;r++){var s=a[r];n[s.key]=s.value}}([l.css.bundler,l.js.bundler],[p]),i(s(l.css,d),r.Variables.core_lib_type_css,l.css.bundler,l.css.waitForLoad,l.css.notificationEvent,o),i(s(l.js,d),r.Variables.core_lib_type_js,l.js.bundler,l.js.waitForLoad,l.js.notificationEvent,o)}}}(s[i],n)}(a)},redirect:function(){return void ebdoAPI.dispatchEvent(n.GOOGLE_MAPS.statefullEvents.onJSLoaded.eventName)},getActiveProviderOrFirstAvailable:function(e){return function(e){var a;if(e&&(a=r.Variables.activeProviders[e]))return a;for(var t in r.Variables.activeProviders){a=r.Variables.activeProviders[t];break}return a}(e)}}};e.websiteMapLoaderAPI=e.websiteMapLoaderAPI||r}(window);